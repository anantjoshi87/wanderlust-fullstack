<% layout("/layouts/boilerplate") %>

<div class="max-w-6xl mx-auto px-4 py-10">
  <!-- Title -->
  <h1 class="text-2xl font-semibold text-gray-900 mb-6">
    <%= listing.title %>
  </h1>

  <!-- Main layout -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
    
    <!-- Image -->
    <div class="rounded-2xl overflow-hidden shadow-lg bg-gray-100">
      <img
        src="<%= listing.image.url %>"
        alt="<%= listing.title %>"
        class="w-full h-full object-cover"
      />
    </div>

    <!-- Details -->
    <div class="space-y-6">

      <!-- Description -->
      <div>
        <h2 class="text-sm font-medium text-gray-500 uppercase tracking-wide mb-1">
          Description
        </h2>
        <p class="text-gray-700 leading-relaxed">
          <%= listing.description %>
        </p>
      </div>

      <!-- Price -->
      <p class="text-2xl font-semibold text-gray-900">
        â‚¹<%= listing.price.toLocaleString("en-IN") %>
        <span class="text-sm font-normal text-gray-500"> / night</span>
      </p>
      
      <!-- Location -->
      <div class="flex items-center gap-2 text-gray-600">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="1.5"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 21s-6-5.4-6-10a6 6 0 1112 0c0 4.6-6 10-6 10z"
          />
        </svg>
        
        <span>
          <%= listing.location %>, <%= listing.country %>
        </span>
      </div>

      <!-- Actions -->
      <div class="flex gap-4 pt-4">
        <a
          href="/listings/<%= listing.id %>/edit"
          class="px-6 py-2 rounded-lg bg-rose-500 text-white font-medium hover:bg-rose-600 transition"
        >
          Edit Listing
        </a>

        <form
          method="post"
          action="/listings/<%= listing.id %>?_method=DELETE"
          onsubmit="return confirm('Are you sure you want to delete this listing?');"
        >
          <button
            class="px-6 py-2 rounded-lg border border-red-500 text-red-500 font-medium hover:bg-red-50 transition"
          >
            Delete
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
